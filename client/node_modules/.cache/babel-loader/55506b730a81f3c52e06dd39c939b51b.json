{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport OrdersAPIService from './OrderAPIService';\nconst initialState = {\n  items: [],\n  isError: false,\n  loading: false,\n  isSuccess: false,\n  message: ''\n};\n\n//get all items\nexport const getOrders = createAsyncThunk('orders/fetchall', async (_, thunkAPI) => {\n  try {\n    return await OrdersAPIService.fetchOrders();\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const OrderSlice = createSlice({\n  name: \"orders\",\n  initialState,\n  reducers: {\n    reset: state => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(getOrders.pending, state => {\n      state.loading = true;\n    }).addCase(getOrders.fulfilled, (state, action) => {\n      state.loading = false;\n      state.isSuccess = true;\n      state.items = action.payload;\n    }).addCase(getOrders.rejected, (state, action) => {\n      state.isSuccess = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  reset\n} = OrderSlice.actions;\nexport default OrderSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","OrdersAPIService","initialState","items","isError","loading","isSuccess","message","getOrders","_","thunkAPI","fetchOrders","error","response","data","toString","rejectWithValue","OrderSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["/home/stephen/project-template-react-rails-api/client/src/features/orders/OrderSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport OrdersAPIService from './OrderAPIService'\n\nconst initialState = {\n    items:[],\n    isError: false,\n    loading: false,\n    isSuccess: false,\n    message:''\n}\n\n//get all items\nexport const getOrders = createAsyncThunk(\n    'orders/fetchall',\n    async(_, thunkAPI) => {\n    try {\n        return await OrdersAPIService.fetchOrders();\n    } catch (error) {\n        const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString();\n\n        return thunkAPI.rejectWithValue(message)\n    }\n    }\n)\n\nexport const OrderSlice = createSlice({\n    name: \"orders\",\n    initialState,\n    reducers: {\n        reset:(state)=>initialState\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(getOrders.pending, (state) => {\n                state.loading = true;\n            })\n            .addCase(getOrders.fulfilled, (state, action) => {\n                state.loading = false;\n                state.isSuccess = true;\n                state.items = action.payload\n            })\n            .addCase(getOrders.rejected, (state, action) => {\n                state.isSuccess = false;\n                state.isError = true;\n                state.message = action.payload;\n        })\n    }\n})\n\nexport const { reset } = OrderSlice.actions\nexport default OrderSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,gBAAgB,MAAM,mBAAmB;AAEhD,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAC,EAAE;EACRC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE,KAAK;EACdC,SAAS,EAAE,KAAK;EAChBC,OAAO,EAAC;AACZ,CAAC;;AAED;AACA,OAAO,MAAMC,SAAS,GAAGR,gBAAgB,CACrC,iBAAiB,EACjB,OAAMS,CAAC,EAAEC,QAAQ,KAAK;EACtB,IAAI;IACA,OAAO,MAAMT,gBAAgB,CAACU,WAAW,EAAE;EAC/C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAML,OAAO,GAAIK,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACC,IAAI,IAAIF,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACP,OAAO,IAAKK,KAAK,CAACL,OAAO,IAAIK,KAAK,CAACG,QAAQ,EAAE;IAE3H,OAAOL,QAAQ,CAACM,eAAe,CAACT,OAAO,CAAC;EAC5C;AACA,CAAC,CACJ;AAED,OAAO,MAAMU,UAAU,GAAGlB,WAAW,CAAC;EAClCmB,IAAI,EAAE,QAAQ;EACdhB,YAAY;EACZiB,QAAQ,EAAE;IACNC,KAAK,EAAEC,KAAK,IAAGnB;EACnB,CAAC;EACDoB,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAAChB,SAAS,CAACiB,OAAO,EAAGJ,KAAK,IAAK;MACnCA,KAAK,CAAChB,OAAO,GAAG,IAAI;IACxB,CAAC,CAAC,CACDmB,OAAO,CAAChB,SAAS,CAACkB,SAAS,EAAE,CAACL,KAAK,EAAEM,MAAM,KAAK;MAC7CN,KAAK,CAAChB,OAAO,GAAG,KAAK;MACrBgB,KAAK,CAACf,SAAS,GAAG,IAAI;MACtBe,KAAK,CAAClB,KAAK,GAAGwB,MAAM,CAACC,OAAO;IAChC,CAAC,CAAC,CACDJ,OAAO,CAAChB,SAAS,CAACqB,QAAQ,EAAE,CAACR,KAAK,EAAEM,MAAM,KAAK;MAC5CN,KAAK,CAACf,SAAS,GAAG,KAAK;MACvBe,KAAK,CAACjB,OAAO,GAAG,IAAI;MACpBiB,KAAK,CAACd,OAAO,GAAGoB,MAAM,CAACC,OAAO;IACtC,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAER;AAAM,CAAC,GAAGH,UAAU,CAACa,OAAO;AAC3C,eAAeb,UAAU,CAACc,OAAO"},"metadata":{},"sourceType":"module"}