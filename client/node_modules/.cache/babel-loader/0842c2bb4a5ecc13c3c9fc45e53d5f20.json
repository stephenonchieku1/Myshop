{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport ItemsAPIService from './ItemAPIService';\nconst initialState = {\n  items: [],\n  isError: false,\n  loading: false,\n  isSuccess: false,\n  message: ''\n};\n\n//get all items\nexport const getItems = createAsyncThunk('items/fetchall', async (_, thunkAPI) => {\n  try {\n    return await ItemsAPIService.fetchItems();\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const ItemSlice = createSlice({\n  name: \"items\",\n  initialState,\n  reducers: {\n    reset: state => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(getItems.pending, state => {\n      state.loading = true;\n    }).addCase(getItems.fulfilled, (state, action) => {\n      state.loading = false;\n      state.isSuccess = true;\n      state.items = action.payload;\n    }).addCase(getItems.rejected, (state, action) => {\n      state.isSuccess = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  reset\n} = ItemSlice.actions;\nexport default ItemSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","ItemsAPIService","initialState","items","isError","loading","isSuccess","message","getItems","_","thunkAPI","fetchItems","error","response","data","toString","rejectWithValue","ItemSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["/home/stephen/project-template-react-rails-api/client/src/features/items/ItemSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport ItemsAPIService from './ItemAPIService'\n\nconst initialState = {\n    items:[],\n    isError: false,\n    loading: false,\n    isSuccess: false,\n    message:''\n}\n\n//get all items\nexport const getItems = createAsyncThunk(\n    'items/fetchall',\n    async(_, thunkAPI) => {\n    try {\n        return await ItemsAPIService.fetchItems();\n    } catch (error) {\n        const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString();\n\n        return thunkAPI.rejectWithValue(message)\n    }\n    }\n)\n\nexport const ItemSlice = createSlice({\n    name: \"items\",\n    initialState,\n    reducers: {\n        reset:(state)=>initialState\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(getItems.pending, (state) => {\n                state.loading = true;\n            })\n            .addCase(getItems.fulfilled, (state, action) => {\n                state.loading = false;\n                state.isSuccess = true;\n                state.items = action.payload\n            })\n            .addCase(getItems.rejected, (state, action) => {\n                state.isSuccess = false;\n                state.isError = true;\n                state.message = action.payload;\n        })\n    }\n})\n\nexport const { reset } = ItemSlice.actions\nexport default ItemSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,eAAe,MAAM,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAC,EAAE;EACRC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE,KAAK;EACdC,SAAS,EAAE,KAAK;EAChBC,OAAO,EAAC;AACZ,CAAC;;AAED;AACA,OAAO,MAAMC,QAAQ,GAAGR,gBAAgB,CACpC,gBAAgB,EAChB,OAAMS,CAAC,EAAEC,QAAQ,KAAK;EACtB,IAAI;IACA,OAAO,MAAMT,eAAe,CAACU,UAAU,EAAE;EAC7C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAML,OAAO,GAAIK,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACC,IAAI,IAAIF,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACP,OAAO,IAAKK,KAAK,CAACL,OAAO,IAAIK,KAAK,CAACG,QAAQ,EAAE;IAE3H,OAAOL,QAAQ,CAACM,eAAe,CAACT,OAAO,CAAC;EAC5C;AACA,CAAC,CACJ;AAED,OAAO,MAAMU,SAAS,GAAGlB,WAAW,CAAC;EACjCmB,IAAI,EAAE,OAAO;EACbhB,YAAY;EACZiB,QAAQ,EAAE;IACNC,KAAK,EAAEC,KAAK,IAAGnB;EACnB,CAAC;EACDoB,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAAChB,QAAQ,CAACiB,OAAO,EAAGJ,KAAK,IAAK;MAClCA,KAAK,CAAChB,OAAO,GAAG,IAAI;IACxB,CAAC,CAAC,CACDmB,OAAO,CAAChB,QAAQ,CAACkB,SAAS,EAAE,CAACL,KAAK,EAAEM,MAAM,KAAK;MAC5CN,KAAK,CAAChB,OAAO,GAAG,KAAK;MACrBgB,KAAK,CAACf,SAAS,GAAG,IAAI;MACtBe,KAAK,CAAClB,KAAK,GAAGwB,MAAM,CAACC,OAAO;IAChC,CAAC,CAAC,CACDJ,OAAO,CAAChB,QAAQ,CAACqB,QAAQ,EAAE,CAACR,KAAK,EAAEM,MAAM,KAAK;MAC3CN,KAAK,CAACf,SAAS,GAAG,KAAK;MACvBe,KAAK,CAACjB,OAAO,GAAG,IAAI;MACpBiB,KAAK,CAACd,OAAO,GAAGoB,MAAM,CAACC,OAAO;IACtC,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAER;AAAM,CAAC,GAAGH,SAAS,CAACa,OAAO;AAC1C,eAAeb,SAAS,CAACc,OAAO"},"metadata":{},"sourceType":"module"}