{"ast":null,"code":"var _jsxFileName = \"/home/stephen/localshop/client/src/pages/Piechart.js\",\n  _s = $RefreshSig$();\n// import \"./st.css\";\nimport { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport { PieChart, Pie, Cell, ResponsiveContainer } from \"recharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\"];\nexport default function Piechart(storeId) {\n  _s();\n  const [data, setData] = useState([]);\n  console.log(data);\n  useEffect(st => {\n    fetch(`/stores/${storeId.storeId}/items`).then(r => {\n      if (r.ok) {\n        r.json().then(data => setData(data));\n      } else console.log(\"NO RECORDS FOUND!\");\n      console.log(storeId);\n    });\n  }, []);\n\n  // label on individual chart\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    className: \"pie\",\n    children: /*#__PURE__*/_jsxDEV(PieChart, {\n      className: \"pie-chart\",\n      children: /*#__PURE__*/_jsxDEV(Pie, {\n        label: _ref => {\n          let {\n            cx,\n            cy,\n            midAngle,\n            innerRadius,\n            outerRadius,\n            value,\n            index\n          } = _ref;\n          console.log(\"handling label?\");\n          const RADIAN = Math.PI / 180;\n          // eslint-disable-next-line\n          const radius = 25 + innerRadius + (outerRadius - innerRadius);\n          // eslint-disable-next-line\n          const x = cx + radius * Math.cos(-midAngle * RADIAN);\n          // eslint-disable-next-line\n          const y = cy + radius * Math.sin(-midAngle * RADIAN);\n          return /*#__PURE__*/_jsxDEV(\"text\", {\n            x: x,\n            y: y,\n            fill: \"#000\",\n            textAnchor: x > cx ? \"start\" : \"end\",\n            dominantBaseline: \"central\",\n            children: [data[index].name, \"(\", value, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this);\n        }\n        // end\n        // the  actual piechart\n        ,\n        data: data,\n        cx: 130,\n        cy: 150,\n        labelLine: true,\n        innerRadius: 40,\n        outerRadius: 60,\n        fill: \"#8884d8\",\n        paddingAngle: 5,\n        dataKey: \"quantity\",\n        children: data.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n          fill: COLORS[index % COLORS.length]\n        }, `cell-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(Piechart, \"FTfFkLfVdcj0Uk2EahF49AUIgmY=\");\n_c = Piechart;\nvar _c;\n$RefreshReg$(_c, \"Piechart\");","map":{"version":3,"names":["useState","useEffect","React","PieChart","Pie","Cell","ResponsiveContainer","COLORS","Piechart","storeId","data","setData","console","log","st","fetch","then","r","ok","json","cx","cy","midAngle","innerRadius","outerRadius","value","index","RADIAN","Math","PI","radius","x","cos","y","sin","name","map","entry","length"],"sources":["/home/stephen/localshop/client/src/pages/Piechart.js"],"sourcesContent":["// import \"./st.css\";\nimport {useState,useEffect} from \"react\"\nimport React from \"react\";\nimport { PieChart, Pie, Cell,ResponsiveContainer } from \"recharts\";\n\n\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\"];\n\nexport default function Piechart(storeId) {\n  const[data,setData]=useState([])\n  console.log(data)\n \n  useEffect((st) => {\n    fetch(`/stores/${storeId.storeId}/items`).then((r) => {\n      if (r.ok) {\n        r.json().then((data) => setData(data));\n      }\n      else\n      console.log(\"NO RECORDS FOUND!\")\n      console.log(storeId)\n    });\n  },[]);\n\n\n\n// label on individual chart\n  return (\n    \n    \n    <ResponsiveContainer  className=\"pie\">\n      <PieChart className=\"pie-chart\"  >\n      \n  \n        <Pie\n          label={({\n            cx,\n            cy,\n            midAngle,\n            innerRadius,\n            outerRadius,\n            value,\n            index\n          }) => {\n            console.log(\"handling label?\");\n            const RADIAN = Math.PI / 180;\n            // eslint-disable-next-line\n            const radius = 25 + innerRadius + (outerRadius - innerRadius);\n            // eslint-disable-next-line\n            const x = cx + radius * Math.cos(-midAngle * RADIAN);\n            // eslint-disable-next-line\n            const y = cy + radius * Math.sin(-midAngle * RADIAN);\n            return (\n              <text\n              \n                \n                x={x}\n                y={y}\n                fill=\"#000\"\n                textAnchor={x > cx ? \"start\" : \"end\"}\n                dominantBaseline=\"central\"\n              >\n                {/* {data[index].name} ({value}) */}\n                {data[index].name}({value})\n                \n              </text>\n            );\n          }}\n          // end\n          // the  actual piechart\n          data={data}\n          cx={130}\n          cy={150}\n      \n          labelLine={true}\n      \n          innerRadius={40}\n          outerRadius={60}\n          fill=\"#8884d8\"\n          paddingAngle={5}\n          dataKey=\"quantity\"\n      \n        >\n      \n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n          ))}\n        </Pie>\n      \n      </PieChart>\n      </ResponsiveContainer> \n\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}